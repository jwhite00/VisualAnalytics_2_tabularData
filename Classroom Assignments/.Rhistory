table(eduwa$High.Grade,exclude = 'nothing')
table(eduwa$High.Grade,exclude = 'nothing')
link='https://github.com/EvansDataScience/VisualAnalytics_2_tabularData/raw/master/data/eduwa.rda'
#getting the data TABLE from the file in the cloud:
load(file=url(link))
#number of rows and columns
dim(eduwa) #nrow(eduwa) ncol(eduwa)
names(eduwa)
table(eduwa$High.Grade,exclude = 'nothing')
frqTabO=as.data.frame(prop.table(table(eduwa$High.Grade)))
names(frqTabO)=c('grade','pct')
frqTabO
base = ggplot(frqTabO,aes(x=grade,y=pct))
library(ggplot2)
base = ggplot(frqTabO,aes(x=grade,y=pct))
base + geom_bar(stat = 'identity')
base = ggplot(frqTabO,aes(x=grade,y=pct))
base + geom_bar(stat = 'identity'*100)
base = ggplot(frqTabO,aes(x=grade,y=pct))
base + geom_bar(stat = 'identity')
##always plot identity in bar plot, tells us to just use the value of the y and don't do anything to change it
# boxplots do not use frequency tables
# as.numeric produces turns levels of the factor into numbers
box1 = ggplot(eduwa, aes(y=as.numeric(High.Grade)))
box1 = box1 + geom_boxplot() + coord_flip() # to show it horizontally
box1
# the labels use the original ordinal levels
ordLabels= levels(eduwa$High.Grade)
box2 = box1 + scale_y_continuous(labels=ordLabels,breaks=1:15)
box2
#get positions
# using 'ggplot_build'
pos_q1=     ggplot_build(box2)$data[[1]]$lower
pos_median= ggplot_build(box2)$data[[1]]$middle
pos_q3=     ggplot_build(box2)$data[[1]]$upper
# using
levels(eduwa$High.Grade)[c(pos_q1,pos_median,pos_q3)]
# the labels use the original ordinal levels
ordLabels= levels(eduwa$High.Grade)
box2 = box1 + scale_y_continuous(labels=ordLabels,breaks=1:15)
box2
#get positions
# using 'ggplot_build'
pos_q1=     ggplot_build(box2)$data[[1]]$lower
pos_median= ggplot_build(box2)$data[[1]]$middle
pos_q3=     ggplot_build(box2)$data[[1]]$upper
# using
levels(eduwa$High.Grade)[c(pos_q1,pos_median,pos_q3)]
library(summarytools)
install.packages("summarytools")
# the labels use the original ordinal levels
ordLabels= levels(eduwa$High.Grade)
box2 = box1 + scale_y_continuous(labels=ordLabels,breaks=1:15)
box2
#get positions
# using 'ggplot_build'
pos_q1=     ggplot_build(box2)$data[[1]]$lower
pos_median= ggplot_build(box2)$data[[1]]$middle
pos_q3=     ggplot_build(box2)$data[[1]]$upper
# using
levels(eduwa$High.Grade)[c(pos_q1,pos_median,pos_q3)]
library(summarytools)
freq(eduwa$High.Grade,style = 'rmarkdown')
# how many unique values
length(unique(eduwa$Reduced.Lunch))
barplot(table(eduwa$Reduced.Lunch),las=2,cex.names = 0.3,
main='bad idea')
# median close to mean?
# median and mean far from max or min?
# q1 distance to min is similar ti q3 distance to max?
# how many missing?
summary(eduwa$Reduced.Lunch)
eduwa3=eduwa[complete.cases(eduwa$Reduced.Lunch),]
dataHist=hist(eduwa3$Reduced.Lunch) #saving info in dataHist
base= ggplot(eduwa3,aes(x = Reduced.Lunch))
h1= base + geom_histogram()
h1
dataHist
ggplot_build(h1)$data[[1]]
#ggplot
base= ggplot(eduwa3,aes(x = Reduced.Lunch))
h1= base + geom_histogram(binwidth = 20,boundary=0) #changing width
h1= h1 + stat_bin(binwidth = 20, aes(label=..count..),
geom = "text",boundary = 0,vjust=-0.5)
h1
# base
hist(eduwa3$Reduced.Lunch,labels = T,xlab="Reduced Lunch")
#ggplot
base= ggplot(eduwa3,aes(x = Reduced.Lunch))
h1= base + geom_histogram(binwidth = 10,boundary=0) #changing width
h1= h1 + stat_bin(binwidth = 10, aes(label=..count..),
geom = "text",boundary = 0,vjust=-0.5)
h1
#ggplot
base= ggplot(eduwa3,aes(x = Reduced.Lunch))
h1= base + geom_histogram(binwidth = 10,boundary=0) #changing width
h1= h1 + stat_bin(binwidth = 20, aes(label=..count..),
geom = "text",boundary = 0,vjust=-0.5)
h1
#ggplot
base= ggplot(eduwa3,aes(x = Reduced.Lunch))
h1= base + geom_histogram(binwidth = 20,boundary=0) #changing width
h1= h1 + stat_bin(binwidth = 10, aes(label=..count..),
geom = "text",boundary = 0,vjust=-0.5)
h1
#ggplot
base= ggplot(eduwa3,aes(x = Reduced.Lunch))
h1= base + geom_histogram(binwidth = 10,boundary=0) #changing width
h1= h1 + stat_bin(binwidth = 10, aes(label=..count..),
geom = "text",boundary = 0,vjust=-0.5)
h1
base= ggplot(eduwa3,aes(x = Reduced.Lunch))
h1= base + geom_histogram(binwidth=20)
h1
base= ggplot(eduwa3,aes(x = Reduced.Lunch))
h1= base + geom_histogram()
h1
base= ggplot(eduwa3,aes(x = Reduced.Lunch))
h1= base + geom_histogram(binwidth=30)
h1
base= ggplot(eduwa3,aes(x = Reduced.Lunch))
h1= base + geom_histogram()
h1
hist(eduwa3$Reduced.Lunch,labels = T,xlab="Reduced Lunch", xaxt="n")
axis(side=1, at=dataHist$breaks) # showing axis labels better
eduwa3$redLunchOrd=cut(eduwa3$Reduced.Lunch,
breaks = dataHist$breaks,
include.lowest = T,
ordered_result = T)
# no need to show count of NAs:
freq(eduwa3$redLunchOrd,style = 'rmarkdown',report.nas = F)
# tapply(variable,group,functionToApply)
tapply(eduwa$Student.Teacher.Ratio, eduwa$County, mean)
# strategy 1: remove missing before computing function: na.rm=T
tapply(eduwa$Student.Teacher.Ratio, eduwa$County, mean,na.rm=T)
# strategy 2:
eduwa4=eduwa[complete.cases(eduwa$Student.Teacher.Ratio),]
tapply(eduwa4$Student.Teacher.Ratio,
eduwa4$County,
mean)
# keeping strategy 2:
meanValues=tapply(eduwa4$Student.Teacher.Ratio,
eduwa4$County,
mean)
hist(meanValues)
summary(meanValues)
#reference line
hist(meanValues)
abline(v=mean(meanValues),lty=3,lwd=3,col='blue')
mvDense=density(meanValues)
plot(mvDense,main="Title",col='black',xlab=NA)
abline(v=mean(meanValues),lty=3,lwd=3,col='blue') #mean
abline(v=median(meanValues),lty=3,lwd=3,col='red')#median
legend(x="right",
legend=c('mean','median'),
fill = c('blue','red'),bty = 'n') #no box in the legend
bp=boxplot(meanValues,horizontal = T,ylim=c(5,30))
bp$out
boxplot(meanValues,horizontal = T,ylim=c(5,30))
text(x= 10, y= 0.8, labels= "Outliers are:",col='gray')
text(x= 10, y= 0.75,
labels= paste(names(bp$out)[1], 'and', names(bp$out)[2]),
col='gray')
base= ggplot(eduwa4,aes(x = meanValues))
h1= base + geom_histogram()
h1
base= ggplot(eduwa4,aes(x = meanValues))
plot1= base + geom_histogram()
plot1
base= ggplot(meanValues, aes(x = meanValues))
base= ggplot(meanValues, aes(x = 'identity'))
base= ggplot(eduwa4, aes(x = 'meanValues'))
plot1= base + geom_histogram()
plot1
base= ggplot(eduwa4, aes(x = 'meanValues'))
plot1= base + geom_histogram(binwidth = 10,boundary=0)
plot1
base= ggplot(eduwa4, aes(x = 'meanValues'))
plot1= base + geom_histogram(binwidth = 10,boundary=0)
plot2= plot1 + stat_bin(binwidth = 10, aes(label=..count..),
geom = "text",boundary = 0,vjust=-0.5)
plot1
base= ggplot(eduwa4, aes(x = 'meanValues'))
plot1= base + geom_histogram(binwidth = 10,boundary=0)
plot2= plot1 + stat_bin(binwidth = 10, aes(label=..count..),
geom = "text",boundary = 0,vjust=-0.5)
plot2
base = ggplot(eduwa4, aes(x = 'meanValues'))
plot1 = base + geom_histogram(binwidth = 10,boundary=0)
plot2 = plot1 + stat_bin(binwidth = 10, aes(label=..count..),
geom = "text",boundary = 0,vjust=-0.5)
plot2
base = ggplot(eduwa4, aes(x = 'meanValues'))
plot1 = base + geom_histogram(binwidth = 10,boundary=0)
plot2 = plot1 + stat_bin(binwidth = 10, aes(label=..count..),
geom = "text",boundary = 0,vjust=-0.5)
plot2
bp=boxplot(meanValues,horizontal = T,ylim=c(5,30))
plot(bp,main="Title",col='black',xlab=NA)
bp=boxplot(meanValues,horizontal = T,ylim=c(5,30))
plot(boxplot,main="Title",col='black',xlab=NA)
bp=boxplot(meanValues,horizontal = T,ylim=c(5,30))
bp=boxplot(meanValues,horizontal = T,ylim=c(5,30), main = "BoxPlot")
legend(x="right",
legend=c('mean','median'),
fill = c('blue','red'),bty = 'n') #no box in the legend
bp=boxplot(meanValues,horizontal = T,ylim=c(5,30), main = "BoxPlot" ,
xlab = 'Student Teacher Ratio')
legend(x="right",
legend=c('mean','median'),
fill = c('blue','red'),bty = 'n') #no box in the legend
bp=boxplot(meanValues,horizontal = T,ylim=c(5,30), main = "BoxPlot" ,
xlab = 'Student-Teacher Ratio', caption = 'Source: US Departmet of Education')
legend(x="right",
legend=c('mean','median'),
fill = c('blue','red'),bty = 'n') #no box in the legend
bp=boxplot(meanValues,horizontal = T,ylim=c(5,30), main = "BoxPlot" ,
xlab = 'Student-Teacher Ratio', caption = 'Source: US Departmet of Education')
abline(v=mean(meanValues),lty=3,lwd=3,col='blue') #mean
abline(v=median(meanValues),lty=3,lwd=3,col='red')#median
legend(x="right",
legend=c('mean','median'),
fill = c('blue','red'),bty = 'n') #no box in the legend
bp=boxplot(meanValues,horizontal = T,ylim=c(5,30), main = "BoxPlot" ,
xlab = 'Student-Teacher Ratio', caption = 'Source: US Departmet of Education')
abline(v=mean(meanValues),lty=3,lwd=3,col='blue') #mean
abline(v=median(meanValues),lty=3,lwd=3,col='red')#median
legend(x="right",
legend=c('mean','median'),
fill = c('blue','red'),bty = 'n') #no box in the legend
bp2 = bp + theme(panel.background = element_rect(fill = "white",
colour = "grey50"),
plot.caption = element_text(hjust = 0), # default was 1
plot.title = element_text(hjust = 0.5))
bp=boxplot(meanValues,horizontal = T,ylim=c(5,30), main = "Student-Teacher Ratio" ,
xlab = 'Student-Teacher Ratio', caption = 'Source: US Departmet of Education')
abline(v=mean(meanValues),lty=3,lwd=3,col='blue') #mean
abline(v=median(meanValues),lty=3,lwd=3,col='red')#median
legend(x="right",
legend=c('mean','median'),
fill = c('blue','red'),bty = 'n') #no box in the legend
bp2 = bp + theme(
plot.caption = element_text(hjust = 0), # default was 1
plot.title = element_text(hjust = 0.5))
bp=boxplot(meanValues,horizontal = T,ylim=c(5,30), main = "Student-Teacher Ratio" ,
xlab = 'Student-Teacher Ratio', caption = 'Source: US Departmet of Education')
abline(v=mean(meanValues),lty=3,lwd=3,col='blue') #mean
abline(v=median(meanValues),lty=3,lwd=3,col='red')#median
legend(x="right",
legend=c('mean','median'),
fill = c('blue','red'),bty = 'n') #no box in the legend
bp2 = bp + theme(
plot.caption = element_text(hjust = 3), # default was 1
plot.title = element_text(hjust = 0.5))
bp=boxplot(meanValues,horizontal = T,ylim=c(5,30), main = "Quartile Distribution of Student-Teacher Ratio" ,
xlab = 'Student-Teacher Ratio', caption = 'Source: US Departmet of Education')
abline(v=mean(meanValues),lty=3,lwd=3,col='blue') #mean
abline(v=median(meanValues),lty=3,lwd=3,col='red')#median
legend(x="right",
legend=c('mean','median'),
fill = c('blue','red'),bty = 'n') #no box in the legend
bp2 = bp + theme(
plot.caption = element_text(hjust = 3), # default was 1
plot.title = element_text(hjust = 1))
bp=boxplot(meanValues,horizontal = T,ylim=c(5,30), main = "Quartile Distribution of Student-Teacher Ratio" ,
xlab = 'Student-Teacher Ratio', caption = 'Source: US Departmet of Education')
abline(v=mean(meanValues),lty=3,lwd=3,col='blue') #mean
abline(v=median(meanValues),lty=3,lwd=3,col='red')#median
legend(x="right",
legend=c('mean','median'),
fill = c('blue','red'),bty = 'n') #no box in the legend
bp2 = bp + theme(
plot.xlab = element_text(hjust = 3), # default was 1
plot.title = element_text(hjust = 1))
bp=boxplot(meanValues,horizontal = T,ylim=c(5,30), main = "Quartile Distribution of Student-Teacher Ratio" ,
xlab = 'Student-Teacher Ratio', caption = 'Source: US Departmet of Education')
abline(v=mean(meanValues),lty=3,lwd=3,col='blue') #mean
abline(v=median(meanValues),lty=3,lwd=3,col='red')#median
legend(x="right",
legend=c('mean','median'),
fill = c('blue','red'),bty = 'n') #no box in the legend
plot.xlab = element_text(hjust = 3), # default was 1
bp=boxplot(meanValues,horizontal = T,ylim=c(5,30), main = "Quartile Distribution of Student-Teacher Ratio" ,
xlab = 'Student-Teacher Ratio', caption = 'Source: US Departmet of Education')
abline(v=mean(meanValues),lty=3,lwd=3,col='blue') #mean
abline(v=median(meanValues),lty=3,lwd=3,col='red')#median
legend(x="right",
legend=c('mean','median'),
fill = c('blue','red'),bty = 'n') #no box in the legend
bp=boxplot(meanValues,horizontal = T,ylim=c(5,30), main = "Quartile Distribution of Student-Teacher Ratio" ,
xlab = 'Student-Teacher Ratio', caption = 'SourceText')
abline(v=mean(meanValues),lty=3,lwd=3,col='blue') #mean
abline(v=median(meanValues),lty=3,lwd=3,col='red')#median
legend(x="right",
legend=c('mean','median'),
fill = c('blue','red'),bty = 'n') #no box in the legend
bp=boxplot(meanValues,horizontal = T,ylim=c(5,30), main = "Quartile Distribution of Student-Teacher Ratio" ,
xlab = 'Student-Teacher Ratio')
abline(v=mean(meanValues),lty=3,lwd=3,col='blue') #mean
abline(v=median(meanValues),lty=3,lwd=3,col='red')#median
legend(x="right",
legend=c('mean','median'),
fill = c('blue','red'),bty = 'n') #no box in the legend
box3 = box2(main = "Quartile Distribution of Student-Teacher Ratio" ,
xlab = 'Student-Teacher Ratio'))
box3 = box2 + theme(main = "Quartile Distribution of Student-Teacher Ratio" ,
xlab = 'Student-Teacher Ratio'))
box3 = box2 + aes(main = "Quartile Distribution of Student-Teacher Ratio" ,
xlab = 'Student-Teacher Ratio'))
box3 = box2(main = "Quartile Distribution of Student-Teacher Ratio" ,
xlab = 'Student-Teacher Ratio'))
box2(main = "Quartile Distribution of Student-Teacher Ratio" ,
xlab = 'Student-Teacher Ratio'))
box3 = box2+ text(main = "Quartile Distribution of Student-Teacher Ratio" ,
xlab = 'Student-Teacher Ratio'))
text(main = "Quartile Distribution of Student-Teacher Ratio" ,
xlab = 'Student-Teacher Ratio'))
text ( main = 'Quartile Distribution of Student-Teacher Ratio' ,
xlab = 'Student-Teacher Ratio'))
box3 = box2 + ggtitle(Distribution)
box3 = box2 + ggtitle(main = 'Distribution')
box3 = box2 + ggtitle( main = 'Distribution' )
box3 = box2 + aes( main = 'Distribution' )
box3
box3 = box2 + aes(main = 'Distribution', xlab='Quartile')
box3
box3 = box2 + aes(main = 'Distribution', xlab='Quartile' )
box3
box3 = box2 + aes(main = 'Distribution', xlab = 'Quartile' )
box3
box3 = box2 + aes(main = 'Distribution', )
box3
box3 = box2 + theme(panel.background = element_rect(fill = "white",
colour = "grey50") + aes(main = 'Distribution', )
box3
box3 = box2 + theme(panel.background = element_rect(fill = "white",
colour = "grey50")
box3
box3 = box2 + theme(panel.background = element_rect(fill = "white",
colour = "grey50"))
box3
box3 = box2 + theme(panel.background = element_rect(fill = "white",
colour = "grey50")) +aes( main= 'Title')
box3
